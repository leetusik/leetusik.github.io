<!DOCTYPE html>
<html class="no-js" lang="en">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>코인2024[2] - 선행 연구 리서치 - 이투식</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo logo--mixed">
		<a class="logo__link" href="/" title="이투식" rel="home">
			<div class="logo__item logo__imagebox">
					<img class="logo__img" src="/img/leetusik_black.png">
				</div><div class="logo__item logo__text">
					<div class="logo__title">이투식</div>
					<div class="logo__tagline">이런 투자 방식</div>
				</div>
		</a>
	</div>
		
<nav class="menu">
	<button class="menu__btn" aria-haspopup="true" aria-expanded="false" tabindex="0">
		<span class="menu__btn-title" tabindex="-1">Menu</span>
	</button>
	<ul class="menu__list">
		<li class="menu__item">
			<a class="menu__link" href="/about/">
				
				<span class="menu__text">ABOUT</span>
				
			</a>
		</li>
	</ul>
</nav>

	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">코인2024[2] - 선행 연구 리서치</h1>
			<div class="post__meta meta">
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0a14 14 0 1 1 0 28 1 1 0 0 1 0-28m0 3a3 3 0 1 0 0 22 3 3 0 0 0 0-22m1 4h-2v8.4l6.8 4.4L22 18l-6-3.8z"/></svg><time class="meta__text" datetime="2024-09-09T13:29:53&#43;09:00">2024-09-09</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2 1 2h8v11H0V2z"/></svg><span class="meta__text"><a class="meta__link" href="/categories/investing/" rel="category">Investing</a>
	</span>
</div></div>
		</header>
		
<div class="post__toc toc">
	<div class="toc__title">Page content</div>
	<div class="toc__menu">
		<nav id="TableOfContents">
  <ul>
    <li><a href="#선행-연구">선행 연구</a>
      <ul>
        <li><a href="#1-딥러닝과-단기매매전략을-결합한-암호화폐-투자-방법론-실증-연구">1. 딥러닝과 단기매매전략을 결합한 암호화폐 투자 방법론 실증 연구</a></li>
        <li><a href="#2-딥러닝을-이용한-비트코인-투자전략의-성과-분석---김선웅">2. 딥러닝을 이용한 비트코인 투자전략의 성과 분석 - 김선웅</a></li>
        <li><a href="#3-기타-인터넷-출처-연구들">3. 기타 인터넷 출처 연구들</a></li>
      </ul>
    </li>
  </ul>
</nav>
	</div>
</div><div class="content post__content clearfix">
			<p>코인 투자 선행 연구들을 찾아본다.</p>
<h2 id="선행-연구">선행 연구</h2>
<ol>
<li>딥러닝과 단기매매전략을 결합한 암호화폐 투자 방법론 실증 연구 - 이유민 등</li>
<li>딥러닝을 이용한 비트코인 투자전략의 성과 분석 - 김선웅</li>
<li>기타 인터넷 출처 연구들</li>
</ol>
<hr>
<h3 id="1-딥러닝과-단기매매전략을-결합한-암호화폐-투자-방법론-실증-연구">1. 딥러닝과 단기매매전략을 결합한 암호화폐 투자 방법론 실증 연구</h3>
<h4 id="11-메인-아이디어">1.1 메인 아이디어</h4>
<p>변동성돌파 + LSTM 모델 가격 예측 전략</p>
<h4 id="12-연구-설계-부분">1.2 연구 설계 부분</h4>
<p>하락 추세였던 2022년 1월 ~ 5월 자료를 사용했음.
과거 7일의 데이터로 다음 날 종가를 예측.</p>
<h4 id="13-데이터">1.3 데이터</h4>
<ul>
<li>날짜</li>
<li>시가</li>
<li>고가</li>
<li>저가</li>
<li>종가</li>
<li>거래량</li>
</ul>
<h4 id="14-lstm-파라미터">1.4 LSTM 파라미터</h4>
<ol>
<li>
<p>learning rate = 0.002</p>
</li>
<li>
<p>1st layer unit = 64</p>
</li>
<li>
<p>2nd layer unit = 4</p>
</li>
<li>
<p>epoch = 200</p>
</li>
<li>
<p>batch size = 64</p>
</li>
<li>
<p>loss function = MSE</p>
</li>
<li>
<p>window size = 7</p>
</li>
<li>
<p>활성화 함수(activation function) = 하이퍼볼릭 탄젠트(hyperbolic tangent)</p>
</li>
<li>
<p>옵티마이저(optimizer) = Adam (오차 감소 속도가 빠름(?))</p>
</li>
</ol>
<h4 id="15-best-model-매매-규칙">1.5 best model 매매 규칙</h4>
<p>당일 고점과 당일 예측 종가가 당일 타겟가보다 높을 때, 당일 타겟가에 구매해서 당일 종가에 판매.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 매수 규칙</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> high(t) <span style="color:#f92672">&gt;</span> target(t) <span style="color:#f92672">&amp;</span> pred(t) <span style="color:#f92672">&gt;</span> close(t):
</span></span><span style="display:flex;"><span> buy(price<span style="color:#f92672">=</span>target(t))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 매도 규칙</span>
</span></span><span style="display:flex;"><span>then <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;9am&#34;</span> <span style="color:#75715e"># It&#39;s for example. it would be datetime obj in real machine.</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> now <span style="color:#f92672">&gt;=</span> then <span style="color:#f92672">and</span> <span style="color:#66d9ef">if</span> get_balance(<span style="color:#e6db74">&#34;KRW-BTC&#34;</span>) <span style="color:#f92672">!=</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>  sell(price <span style="color:#f92672">=</span> market)
</span></span></code></pre></div><h4 id="16-연구-결과-성과-분석을-위한-평가-지표">1.6 연구 결과 성과 분석을 위한 평가 지표</h4>
<div style="text-align: center">
  <img src="performance_indicators.png" alt="전략 성과 평가 지표" style="max-width: 100%;
  height: auto;">
  <div style="font-size: 0.9em; color: gray">전략 성과 평가 지표</div>
  <br />
</div>

<h4 id="17-궁금증">1.7 궁금증</h4>
<ul>
<li>
<p>종가 기준은 몇시?
아마 pyupbit에서 일별 데이터 그대로 가져다 쓴 것 같은데 이런 경우에는 오전 9시로 설정됨</p>
<ul>
<li>시간대는 모두 고려해야함</li>
</ul>
</li>
<li>
<p>슬리피지 고려 했나?</p>
<ul>
<li>따로 언급이 없는 것으로보아 고려하지 않음. 매수 조건이 달성되었을 때 바로바로 매매가 실행되는 것이 아니므로 매수, 매도 시에 슬리피지를 고려해야함.</li>
</ul>
</li>
<li>
<p>메인 아이디어가 시장참여비율이 낮아서 수익률이 높을 수도. 하락장에 시자아 참여 비율이 낮다는 것은 긍정적이지만, 상승장에서 따라갈 수 있는지도 확인해야.</p>
</li>
</ul>
<hr>
<h3 id="2-딥러닝을-이용한-비트코인-투자전략의-성과-분석---김선웅">2. 딥러닝을 이용한 비트코인 투자전략의 성과 분석 - 김선웅</h3>
<h4 id="21-메인-아이디어">2.1 메인 아이디어</h4>
<p>기술적 지표(이동평균선) + LSTM 전략.</p>
<h4 id="22-데이터-소개">2.2 데이터 소개</h4>
<p>2017년 5월 23일 ~ 2021년 1월 23일</p>
<h4 id="23-연구-방법">2.3 연구 방법</h4>
<ol>
<li>비트코인 일별 시가, 고가, 저가, 종가, 일별 수익률 자료 활용 다음 날 비트코인 종가 예측</li>
<li>LSTM 비교 모형으로 단순 RNN</li>
<li>최적화 알고리즘 adam optimizer 이용 -&gt; 오차 감소 속도</li>
<li>활성화 함수 -&gt; hyperbolic tangent</li>
<li>지도학습(epoch) 100번. 추가적으로 확대해도 크게 성과 차이 x</li>
</ol>
<div style="text-align: center">
  <img src="hyperparameters.png" alt="LSTM 파라미터 설정" style="max-width: 100%;
  height: auto;">
  <div style="font-size: 0.9em; color: gray">LSTM 파라미터 설정</div>
  <br />
</div>

<hr>
<h4 id="24-비교-투자-전략">2.4 비교 투자 전략</h4>
<ol>
<li>
<p>이동평균선 교차 전략 + lstm</p>
<ul>
<li>단기 이평선(5)이 장기 이평선(20)을 상향 돌파할 경우 돌파 시점 종가로 매수. 반대의 경우 돌파 시점 종가로 매수 포지션 청산</li>
</ul>
<div style="text-align: center">
     <img src="strategy.png" alt="연구에 활용된 전략" style="max-width: 100%;
     height: auto;">
     <div style="font-size: 0.9em; color: gray">연구에 활용된 전략</div>
     <br />
   </div>

</li>
<li>
<p>그냥 이동평균선 교차 전략</p>
<ul>
<li>1 but no predict C just C</li>
</ul>
</li>
<li>
<p>buy &amp; hold</p>
</li>
</ol>
<h4 id="25-전략-별-성과">2.5 전략 별 성과</h4>
<div style="text-align: center">
  <img src="performance2.png" alt="전략 별 성과" style="max-width: 100%;
  height: auto;">
  <div style="font-size: 0.9em; color: gray">전략 별 성과</div>
  <br />
</div>

<h4 id="26-궁금증">2.6 궁금증</h4>
<p>그냥 ma 전략이랑 차이가 이 정도면 그냥 예측 효과가 있다고 보기 어려울 듯.</p>
<hr>
<h3 id="3-기타-인터넷-출처-연구들">3. 기타 인터넷 출처 연구들</h3>
<h4 id="31-rsi">3.1 RSI</h4>
<p>기본적인 rsi 전략은 다음과 같다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Calculate the RS (Relative Strength) and RSI</span>
</span></span><span style="display:flex;"><span>df[<span style="color:#e6db74">&#39;rs&#39;</span>] <span style="color:#f92672">=</span> df[<span style="color:#e6db74">&#39;avg_gain&#39;</span>] <span style="color:#f92672">/</span> df[<span style="color:#e6db74">&#39;avg_loss&#39;</span>]
</span></span><span style="display:flex;"><span>df[<span style="color:#e6db74">&#39;rsi&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">100</span> <span style="color:#f92672">-</span> (<span style="color:#ae81ff">100</span> <span style="color:#f92672">/</span> (<span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> df[<span style="color:#e6db74">&#39;rs&#39;</span>]))
</span></span></code></pre></div><p>매수, 매도 조건은 다음과 같다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df[<span style="color:#e6db74">&#39;signal&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>  <span style="color:#75715e"># Default to no position</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">1</span>, len(df)):
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 매수 조건</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (df[<span style="color:#e6db74">&#39;rsi&#39;</span>]<span style="color:#f92672">.</span>iloc[i] <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">30</span>) <span style="color:#f92672">and</span> (df[<span style="color:#e6db74">&#39;rsi&#39;</span>]<span style="color:#f92672">.</span>iloc[i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>] <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">30</span>):
</span></span><span style="display:flex;"><span>        df[<span style="color:#e6db74">&#39;signal&#39;</span>]<span style="color:#f92672">.</span>iloc[i] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 매도 조건</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">elif</span> (df[<span style="color:#e6db74">&#39;rsi&#39;</span>]<span style="color:#f92672">.</span>iloc[i] <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">70</span>) <span style="color:#f92672">and</span> (df[<span style="color:#e6db74">&#39;rsi&#39;</span>]<span style="color:#f92672">.</span>iloc[i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>] <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">70</span>):
</span></span><span style="display:flex;"><span>        df[<span style="color:#e6db74">&#39;signal&#39;</span>]<span style="color:#f92672">.</span>iloc[i] <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>
</span></span></code></pre></div><h4 id="32-이동평균선">3.2 이동평균선</h4>
<p>이동평균선 전략은 다음과 같다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># ...</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>df[<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{</span>interval<span style="color:#e6db74">}</span><span style="color:#e6db74">_ma&#34;</span>] <span style="color:#f92672">=</span> df[<span style="color:#e6db74">&#39;close&#39;</span>]<span style="color:#f92672">.</span>rolling(window<span style="color:#f92672">=</span>interval)<span style="color:#f92672">.</span>mean()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>df[<span style="color:#e6db74">&#39;signal&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>  <span style="color:#75715e"># Default to no position</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(interval, len(df)):
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Buy condition</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> df<span style="color:#f92672">.</span>loc[i, <span style="color:#e6db74">&#39;close&#39;</span>] <span style="color:#f92672">&gt;=</span> df<span style="color:#f92672">.</span>loc[i, <span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{</span>interval<span style="color:#e6db74">}</span><span style="color:#e6db74">_ma&#39;</span>] <span style="color:#f92672">and</span> df<span style="color:#f92672">.</span>loc[i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;close&#39;</span>] <span style="color:#f92672">&lt;</span> df<span style="color:#f92672">.</span>loc[i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, <span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{</span>interval<span style="color:#e6db74">}</span><span style="color:#e6db74">_ma&#39;</span>]:
</span></span><span style="display:flex;"><span>        df<span style="color:#f92672">.</span>loc[i, <span style="color:#e6db74">&#39;signal&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Sell condition</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">elif</span> df<span style="color:#f92672">.</span>loc[i, <span style="color:#e6db74">&#39;close&#39;</span>] <span style="color:#f92672">&lt;</span> df<span style="color:#f92672">.</span>loc[i, <span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{</span>interval<span style="color:#e6db74">}</span><span style="color:#e6db74">_ma&#39;</span>] <span style="color:#f92672">and</span> df<span style="color:#f92672">.</span>loc[i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;close&#39;</span>] <span style="color:#f92672">&gt;=</span> df<span style="color:#f92672">.</span>loc[i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, <span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{</span>interval<span style="color:#e6db74">}</span><span style="color:#e6db74">_ma&#39;</span>]:
</span></span><span style="display:flex;"><span>        df<span style="color:#f92672">.</span>loc[i, <span style="color:#e6db74">&#39;signal&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ...</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 다음의 이동평균선을 모두 고려한다.</span>
</span></span><span style="display:flex;"><span>interval_list <span style="color:#f92672">=</span> [<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">20</span>, <span style="color:#ae81ff">50</span>, <span style="color:#ae81ff">90</span>, <span style="color:#ae81ff">120</span>, <span style="color:#ae81ff">200</span>]
</span></span></code></pre></div><h4 id="33-가격-모멘텀">3.3 가격 모멘텀</h4>
<p>가격 모멘텀 전략은 매일 가격의 모멘텀을 판단하고 양의 모멘텀일 경우에 매수, 보유 중 음의 모멘텀으로 전환될 시 매도하는 전략이다. 매수와 매도는 하루 중 기준 시간에 실행된다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e">#...</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>df[<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{</span>momentum<span style="color:#e6db74">}</span><span style="color:#e6db74">_momentum&#34;</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>df[<span style="color:#e6db74">&#39;signal&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>  <span style="color:#75715e"># Default to no position</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(momentum, len(df)):
</span></span><span style="display:flex;"><span>    df<span style="color:#f92672">.</span>loc[i, <span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{</span>momentum<span style="color:#e6db74">}</span><span style="color:#e6db74">_momentum&#34;</span>] <span style="color:#f92672">=</span> df<span style="color:#f92672">.</span>loc[i, <span style="color:#e6db74">&#34;close&#34;</span>] <span style="color:#f92672">-</span> df<span style="color:#f92672">.</span>loc[i<span style="color:#f92672">-</span>momentum, <span style="color:#e6db74">&#34;close&#34;</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Buy condition</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> df[<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{</span>momentum<span style="color:#e6db74">}</span><span style="color:#e6db74">_momentum&#39;</span>]<span style="color:#f92672">.</span>iloc[i] <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">and</span> df[<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{</span>momentum<span style="color:#e6db74">}</span><span style="color:#e6db74">_momentum&#39;</span>]<span style="color:#f92672">.</span>iloc[i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>] <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>        df<span style="color:#f92672">.</span>loc[i, <span style="color:#e6db74">&#39;signal&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Sell condition</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">elif</span> df[<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{</span>momentum<span style="color:#e6db74">}</span><span style="color:#e6db74">_momentum&#39;</span>]<span style="color:#f92672">.</span>iloc[i] <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">and</span> df[<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{</span>momentum<span style="color:#e6db74">}</span><span style="color:#e6db74">_momentum&#39;</span>]<span style="color:#f92672">.</span>iloc[i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>] <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>        df<span style="color:#f92672">.</span>loc[i, <span style="color:#e6db74">&#39;signal&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#...</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 아래의 모멘텀을 고려한다.</span>
</span></span><span style="display:flex;"><span>momentum_list <span style="color:#f92672">=</span> [<span style="color:#ae81ff">30</span>, <span style="color:#ae81ff">60</span>, <span style="color:#ae81ff">90</span>, <span style="color:#ae81ff">120</span>, <span style="color:#ae81ff">150</span>, <span style="color:#ae81ff">180</span>]
</span></span></code></pre></div><h4 id="34-hash-rate">3.4 hash rate</h4>
<p>흔히 사용되는 지표는 아니지만, 강환국 유튜브에서 접한 지표이다. 30일 평균 hashrate가 60일 평균 hashrate를 상승 돌파할 때 매수하고, 하락 돌파할 때 매도한다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df[<span style="color:#e6db74">&#34;HR_MA_30&#34;</span>] <span style="color:#f92672">=</span> df[<span style="color:#e6db74">&#34;Hashrate (TH/s)&#34;</span>]<span style="color:#f92672">.</span>rolling(window<span style="color:#f92672">=</span><span style="color:#ae81ff">30</span>)<span style="color:#f92672">.</span>mean()
</span></span><span style="display:flex;"><span>df[<span style="color:#e6db74">&#34;HR_MA_60&#34;</span>] <span style="color:#f92672">=</span> df[<span style="color:#e6db74">&#34;Hashrate (TH/s)&#34;</span>]<span style="color:#f92672">.</span>rolling(window<span style="color:#f92672">=</span><span style="color:#ae81ff">60</span>)<span style="color:#f92672">.</span>mean()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>df[<span style="color:#e6db74">&#39;signal&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>  <span style="color:#75715e"># Default to no position</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">26</span>, len(df)):
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Buy condition</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> df<span style="color:#f92672">.</span>loc[i, <span style="color:#e6db74">&#34;HR_MA_30&#34;</span>] <span style="color:#f92672">&gt;=</span> df<span style="color:#f92672">.</span>loc[i, <span style="color:#e6db74">&#34;HR_MA_60&#34;</span>] <span style="color:#f92672">and</span> df<span style="color:#f92672">.</span>loc[i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#34;HR_MA_30&#34;</span>] <span style="color:#f92672">&lt;</span> df<span style="color:#f92672">.</span>loc[i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#34;HR_MA_60&#34;</span>]:
</span></span><span style="display:flex;"><span>        df<span style="color:#f92672">.</span>loc[i, <span style="color:#e6db74">&#39;signal&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Sell condition</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">elif</span> df<span style="color:#f92672">.</span>loc[i, <span style="color:#e6db74">&#34;HR_MA_30&#34;</span>] <span style="color:#f92672">&lt;</span> df<span style="color:#f92672">.</span>loc[i, <span style="color:#e6db74">&#34;HR_MA_60&#34;</span>] <span style="color:#f92672">and</span> df<span style="color:#f92672">.</span>loc[i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#34;HR_MA_30&#34;</span>] <span style="color:#f92672">&gt;=</span> df<span style="color:#f92672">.</span>loc[i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#34;HR_MA_60&#34;</span>]:
</span></span><span style="display:flex;"><span>        df<span style="color:#f92672">.</span>loc[i, <span style="color:#e6db74">&#39;signal&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>
</span></span></code></pre></div><h4 id="35-변동성-돌파">3.5 변동성 돌파</h4>
<p>금일 가격이 전일 변동량의 일정 부분(k) 이상 상승했을 때 매수, 매수 이후 매일 정해진 시간에 매도하는 전략이다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e">#...</span>
</span></span><span style="display:flex;"><span>df[<span style="color:#e6db74">&#34;range&#34;</span>] <span style="color:#f92672">=</span> df[<span style="color:#e6db74">&#34;high&#34;</span>] <span style="color:#f92672">-</span> df[<span style="color:#e6db74">&#34;low&#34;</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">1</span>, len(df)):
</span></span><span style="display:flex;"><span>    df<span style="color:#f92672">.</span>loc[i, <span style="color:#e6db74">&#34;target_price&#34;</span>] <span style="color:#f92672">=</span> df<span style="color:#f92672">.</span>loc[i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#34;range&#34;</span>] <span style="color:#f92672">*</span> k <span style="color:#f92672">+</span> df<span style="color:#f92672">.</span>loc[i, <span style="color:#e6db74">&#34;open&#34;</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># df[&#34;ma5&#34;] = df[&#34;open&#34;].rolling(window=5).mean()</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>df[<span style="color:#e6db74">&#39;signal&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>  <span style="color:#75715e"># Default to no position</span>
</span></span><span style="display:flex;"><span>df[<span style="color:#e6db74">&#39;strategy_returns&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.0</span>
</span></span><span style="display:flex;"><span>df[<span style="color:#e6db74">&#39;strategy_returns2&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">5</span>, len(df)):
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Buy condition</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> df<span style="color:#f92672">.</span>loc[i, <span style="color:#e6db74">&#34;high&#34;</span>] <span style="color:#f92672">&gt;=</span> df<span style="color:#f92672">.</span>loc[i, <span style="color:#e6db74">&#34;target_price&#34;</span>]:
</span></span><span style="display:flex;"><span>        df<span style="color:#f92672">.</span>loc[i, <span style="color:#e6db74">&#39;signal&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        df<span style="color:#f92672">.</span>loc[i, <span style="color:#e6db74">&#34;strategy_returns&#34;</span>] <span style="color:#f92672">=</span> df<span style="color:#f92672">.</span>loc[i, <span style="color:#e6db74">&#34;close&#34;</span>]<span style="color:#f92672">/</span>df<span style="color:#f92672">.</span>loc[i, <span style="color:#e6db74">&#34;target_price&#34;</span>] <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        df<span style="color:#f92672">.</span>loc[i, <span style="color:#e6db74">&#34;strategy_returns2&#34;</span>] <span style="color:#f92672">=</span> (df<span style="color:#f92672">.</span>loc[i, <span style="color:#e6db74">&#34;close&#34;</span>] <span style="color:#f92672">*</span> <span style="color:#ae81ff">0.998</span>)<span style="color:#f92672">/</span>(df<span style="color:#f92672">.</span>loc[i, <span style="color:#e6db74">&#34;target_price&#34;</span>] <span style="color:#f92672">*</span> <span style="color:#ae81ff">1.002</span>) <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ...</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 고려하는 k 값</span>
</span></span><span style="display:flex;"><span>ks <span style="color:#f92672">=</span> [k <span style="color:#f92672">/</span> <span style="color:#ae81ff">10.0</span> <span style="color:#66d9ef">for</span> k <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">10</span>)]
</span></span></code></pre></div><hr>
<p>다음 글에서는 위의 전략들을 백테스트하고 그 결과를 바탕으로 새로운 전략을 도출한다.</p>
<h4 id="같은-주제-게시글-모음">같은 주제 게시글 모음</h4>
 
<ul>
  
  <li><a href="/posts/investing/firstcoinstrategy/fcs2/">코인2024[2] - 선행 연구 리서치</a></li>
  
  <li><a href="/posts/investing/firstcoinstrategy/fcs1/">코인2024[1] - 프로젝트 구조 설계</a></li>
  
</ul>
		</div>
		<footer class="post__footer">
			
<div class="post__tags tags clearfix">
	<svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M4 0h8s2 0 4 2l15 15s2 2 0 4L21 31s-2 2-4 0L2 16s-2-2-2-4V3s0-3 4-3m3 10a3 3 0 0 0 0-6 3 3 0 0 0 0 6"/></svg>
	<ul class="tags__list">
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/coin2024/" rel="tag">coin2024</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/coin/" rel="tag">coin</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/investing/" rel="tag">investing</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/research/" rel="tag">research</a>
		</li>
	</ul>
</div>
		</footer>
	</article>
</main>

<div class="authorbox clearfix">
	<figure class="authorbox__avatar">
		<img alt="이투식 avatar" src="/img/leetusik_black.png" class="avatar" height="90" width="90">
	</figure>
	<div class="authorbox__header">
		<span class="authorbox__name">About 이투식</span>
	</div>
	<div class="authorbox__description">
		이런 투자 방식, 이투식입니다.
	</div>
</div>

<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/investing/firstcoinstrategy/fcs1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">코인2024[1] - 프로젝트 구조 설계</p>
		</a>
	</div>
</nav>


			</div>
			<aside class="sidebar">
<div class="widget-recent widget">
	<h4 class="widget__title">Recent Posts</h4>
	<div class="widget__content">
		<ul class="widget__list">
			<li class="widget__item"><a class="widget__link" href="/posts/investing/firstcoinstrategy/fcs2/">코인2024[2] - 선행 연구 리서치</a></li>
			<li class="widget__item"><a class="widget__link" href="/posts/investing/firstcoinstrategy/fcs1/">코인2024[1] - 프로젝트 구조 설계</a></li>
			<li class="widget__item"><a class="widget__link" href="/posts/services/coupangman/coupangman4/">coupang TV[4] - 서버</a></li>
			<li class="widget__item"><a class="widget__link" href="/posts/services/coupangman/coupangman3/">coupang TV[3] - 프론트엔드</a></li>
			<li class="widget__item"><a class="widget__link" href="/posts/services/coupangman/coupangman2/">coupang TV[2] - 백엔드</a></li>
		</ul>
	</div>
</div>
<div class="widget-categories widget">
	<h4 class="widget__title">Categories</h4>
	<div class="widget__content">
		<ul class="widget__list">
			<li class="widget__item">
				<a class="widget__link" href="/categories/investing/">Investing</a>&nbsp;
				<span class="widget__counter widget__counter--bubble">2</span>
				</li>
			<li class="widget__item">
				<a class="widget__link" href="/categories/services/">Services</a>&nbsp;
				<span class="widget__counter widget__counter--bubble">4</span>
				</li>
		</ul>
	</div>
</div>
<div class="widget-taglist widget">
	<h4 class="widget__title">Tags</h4>
	<div class="widget__content">
		<a class="widget-taglist__link widget__link btn" href="/tags/backend/" title="Backend">Backend</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/coin/" title="Coin">Coin</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/coin2024/" title="Coin2024">Coin2024</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/coupang-tv/" title="Coupang Tv">Coupang Tv</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/docker/" title="Docker">Docker</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/flask/" title="Flask">Flask</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/frontend/" title="Frontend">Frontend</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/indie-hacker/" title="Indie Hacker">Indie Hacker</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/investing/" title="Investing">Investing</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/javascript/" title="Javascript">Javascript</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/jinja2/" title="Jinja2">Jinja2</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/linux/" title="Linux">Linux</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/python/" title="Python">Python</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/research/" title="Research">Research</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/server/" title="Server">Server</a>
	</div>
</div>
<div class="widget-social widget">
	<h4 class="widget-social__title widget__title">Social</h4>
	<div class="widget-social__content widget__content">
		<div class="widget-social__item widget__item">
			<a class="widget-social__link widget__link btn" title="Instagram" rel="noopener noreferrer" href="https://www.instagram.com/leetusik" target="_blank">
				<svg class="widget-social__link-icon icon icon-instagram" width="24" height="24" viewBox="0 0 256 256"><circle cx="193" cy="59" r="15"/><path fill-rule="evenodd" d="M101 0h54c41 0 58.4 3.9 74.5 17C256.2 37.5 256 74.8 256 97.7v60c0 26.7 0 60.4-26.5 81.4-16 13.4-33.5 16.9-74.5 16.9h-54c-41 0-57.5-3.5-74.5-16.9C1 218.9.5 186.3.1 160.5L0 155V97.7c0-23-.2-60.2 26.5-80.7C45 2 60 0 101 0zm4.9 23h44.3c45.8 0 58.3 3.5 70.3 17.5 11.8 13.2 12 30.1 12.5 62.9V156c.2 20.8.3 45.8-12.5 59.5-12 14-24.5 17.5-70.3 17.5h-44.3c-45.9 0-57.3-3.5-70.4-17.5-12.2-13-12.3-36.5-12.4-56.7v-55.6c.4-32.6.7-49.6 12.4-62.7C48 26.5 60 23 105.9 23zm19.6 144.5a42 42 0 1 0 0-84 42 42 0 0 0 0 84zm0 22.5a64.5 64.5 0 1 0 0-129 64.5 64.5 0 0 0 0 129z"/></svg>
				<span>Instagram</span>
			</a>
		</div>
		<div class="widget-social__item widget__item">
			<a class="widget-social__link widget__link btn" title="GitHub" rel="noopener noreferrer" href="https://github.com/leetusik" target="_blank">
				<svg class="widget-social__link-icon icon icon-github" width="24" height="24" viewBox="0 0 384 374"><path d="m192 0c-106.1 0-192 85.8-192 191.7 0 84.7 55 156.6 131.3 181.9 9.6 1.8 13.1-4.2 13.1-9.2 0-4.6-.2-16.6-.3-32.6-53.4 11.6-64.7-25.7-64.7-25.7-8.7-22.1-21.3-28-21.3-28-17.4-11.9 1.3-11.6 1.3-11.6 19.3 1.4 29.4 19.8 29.4 19.8 17.1 29.3 44.9 20.8 55.9 15.9 1.7-12.4 6.7-20.8 12.2-25.6-42.6-4.8-87.5-21.3-87.5-94.8 0-20.9 7.5-38 19.8-51.4-2-4.9-8.6-24.3 1.9-50.7 0 0 16.1-5.2 52.8 19.7 15.3-4.2 31.7-6.4 48.1-6.5 16.3.1 32.7 2.2 48.1 6.5 36.7-24.8 52.8-19.7 52.8-19.7 10.5 26.4 3.9 45.9 1.9 50.7 12.3 13.4 19.7 30.5 19.7 51.4 0 73.7-44.9 89.9-87.7 94.6 6.9 5.9 13 17.6 13 35.5 0 25.6-.2 46.3-.2 52.6 0 5.1 3.5 11.1 13.2 9.2 76.2-25.5 131.2-97.3 131.2-182 0-105.9-86-191.7-192-191.7z"/></svg>
				<span>GitHub</span>
			</a>
		</div>
		<div class="widget-social__item widget__item">
			<a class="widget-social__link widget__link btn" title="Email" href="mailto:leetusik@gmail.com">
				<svg class="widget-social__link-icon icon icon-mail" width="24" height="24" viewBox="0 0 24 24"><path d="M0 3h24v18H0zm2 16h20V7l-10 6L2 7zM22 5H2l10 6z"/></svg>
				<span>leetusik@gmail.com</span>
			</a>
		</div>

		
	</div>
</div>
</aside>
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 이투식.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
	</div>
<script async defer src="/js/menu.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async></script>
</body>
</html>